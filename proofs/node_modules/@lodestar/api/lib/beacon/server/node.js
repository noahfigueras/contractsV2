import { routesData, getReturnTypes, getReqSerializers } from "../routes/node.js";
import { getGenericJsonServer } from "../../utils/server/index.js";
export function getRoutes(config, api) {
    const reqSerializers = getReqSerializers();
    const serverRoutes = getGenericJsonServer({ routesData, getReturnTypes, getReqSerializers }, config, api);
    return {
        ...serverRoutes,
        getHealth: {
            ...serverRoutes.getHealth,
            handler: async (req, res) => {
                const args = reqSerializers.getHealth.parseReq(req);
                // Note: This type casting is required as per route definition getHealth
                // does not return a value but since the internal API does not have access
                // to response object it is required to set the HTTP status code here.
                res.statusCode = (await api.getHealth(...args));
            },
        },
    };
}
//# sourceMappingURL=node.js.map