import { RouteDef, ReqGeneric, ReturnTypes, ReqSerializer, ReqSerializers, RoutesData } from "../types.js";
import { APIClientHandler } from "../../interfaces.js";
import { FetchOpts, IHttpClient } from "./httpClient.js";
type ExtraOpts = {
    retries?: number;
};
type ParametersWithOptionalExtraOpts<T extends (...args: any) => any> = [...Parameters<T>, ExtraOpts] | Parameters<T>;
export type ApiWithExtraOpts<T extends Record<string, APIClientHandler>> = {
    [K in keyof T]: (...args: ParametersWithOptionalExtraOpts<T[K]>) => ReturnType<T[K]>;
};
/**
 * Format FetchFn opts from Fn arguments given a route definition and request serializer.
 * For routes that return only JSOn use @see getGenericJsonClient
 */
export declare function getFetchOptsSerializer<Fn extends (...args: any) => any, ReqType extends ReqGeneric>(routeDef: RouteDef, reqSerializer: ReqSerializer<Fn, ReqType>, routeId: string): (...args: Parameters<Fn>) => FetchOpts;
/**
 * Generate `getFetchOptsSerializer()` functions for all routes in `Api`
 */
export declare function getFetchOptsSerializers<Api extends Record<string, APIClientHandler>, ReqTypes extends {
    [K in keyof Api]: ReqGeneric;
}>(routesData: RoutesData<Api>, reqSerializers: ReqSerializers<Api, ReqTypes>): { [K in keyof RoutesData<Api>]: (...args: Parameters<Api[keyof Api]>) => FetchOpts; };
/**
 * Get a generic JSON client from route definition, request serializer and return types.
 */
export declare function generateGenericJsonClient<Api extends Record<string, APIClientHandler>, ReqTypes extends {
    [K in keyof Api]: ReqGeneric;
}>(routesData: RoutesData<Api>, reqSerializers: ReqSerializers<Api, ReqTypes>, returnTypes: ReturnTypes<Api>, fetchFn: IHttpClient): ApiWithExtraOpts<Api>;
export {};
//# sourceMappingURL=client.d.ts.map